{
  ArrayList<CapturedSmsData> newmsglist=new ArrayList<>();
  dbaccess.open();
  try {
    Cursor smscur=dbaccess.returnDetectedSmsData();
    if (smscur.getCount() > 0) {
      while (smscur.moveToNext()) {
        CapturedSmsData getdata=new CapturedSmsData();
        getdata.setId(smscur.getLong(smscur.getColumnIndex(SmsDetectionDbHelper.SMS_DATA_ID)));
        getdata.setSmsTimestamp(smscur.getString(smscur.getColumnIndex(SmsDetectionDbHelper.SMS_DATA_TIMESTAMP)));
        getdata.setSmsType(smscur.getString(smscur.getColumnIndex(SmsDetectionDbHelper.SMS_DATA_SMS_TYPE)));
        getdata.setSenderNumber(smscur.getString(smscur.getColumnIndex(SmsDetectionDbHelper.SMS_DATA_SENDER_NUMBER)));
        getdata.setSenderMsg(smscur.getString(smscur.getColumnIndex(SmsDetectionDbHelper.SMS_DATA_SENDER_MSG)));
        getdata.setCurrent_lac(smscur.getInt(smscur.getColumnIndex(SmsDetectionDbHelper.SMS_DATA_CURRENT_LAC)));
        getdata.setCurrent_cid(smscur.getInt(smscur.getColumnIndex(SmsDetectionDbHelper.SMS_DATA_CURRENT_CID)));
        getdata.setCurrent_nettype(smscur.getString(smscur.getColumnIndex(SmsDetectionDbHelper.SMS_DATA_CURRENT_NETTYPE)));
        getdata.setCurrent_roam_status(smscur.getString(smscur.getColumnIndex(SmsDetectionDbHelper.SMS_DATA_CURRENT_ROAM_STATE)));
        getdata.setCurrent_gps_lat(smscur.getDouble(smscur.getColumnIndex(SmsDetectionDbHelper.SMS_DATA_CURRENT_GPS_LAT)));
        getdata.setCurrent_gps_lon(smscur.getDouble(smscur.getColumnIndex(SmsDetectionDbHelper.SMS_DATA_CURRENT_GPS_LON)));
        newmsglist.add(getdata);
      }
    }
    listViewAdv.setAdapter(new AdvanceUserBaseSmsAdapter(getApplicationContext(),newmsglist));
  }
 catch (  Exception ee) {
    System.out.println("DB ERROR>>>>" + ee.toString());
  }
  dbaccess.close();
}
