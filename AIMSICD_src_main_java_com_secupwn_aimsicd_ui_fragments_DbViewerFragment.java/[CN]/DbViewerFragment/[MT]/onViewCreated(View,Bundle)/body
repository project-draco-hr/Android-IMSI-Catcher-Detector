{
  super.onViewCreated(view,savedInstanceState);
  DbViewerSpinnerAdapter mSpinnerAdapter=new DbViewerSpinnerAdapter(getActivity(),R.layout.item_spinner_db_viewer);
  tblSpinner.setAdapter(mSpinnerAdapter);
  tblSpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener(){
    @Override public void onItemSelected(    AdapterView<?> parentView,    View selectedItemView,    final int position,    long id){
      Object selectedItem=tblSpinner.getSelectedItem();
      if (!(selectedItem instanceof StatesDbViewer)) {
        return;
      }
      mTableSelected=(StatesDbViewer)selectedItem;
switch (position) {
case 3:
        setListAdapter(new DefaultLocationAdapter(getActivity(),realm.allObjects(DefaultLocation.class),true));
      break;
case 4:
    setListAdapter(new SmsDataAdapter(getActivity(),realm.allObjects(SmsData.class),true));
  break;
case 6:
setListAdapter(new EventAdapter(getActivity(),realm.allObjects(Event.class),true));
break;
case 7:
setListAdapter(new DetectionStringAdapter(getActivity(),realm.allObjects(SmsDetectionString.class),true));
break;
default :
new AsyncTask<Void,Void,ListAdapter>(){
@Override protected ListAdapter doInBackground(Void... params){
Cursor result;
switch (position) {
case 0:
result=mDb.returnDBiBts();
break;
case 1:
result=mDb.returnDBiMeasure();
break;
case 2:
result=mDb.returnDBeImport();
break;
case 5:
result=mDb.returnDBiMeasure();
break;
default :
throw new IllegalArgumentException("Unknown type of table");
}
BaseInflaterAdapter adapter=null;
if (result != null) {
adapter=BuildTable(result);
result.close();
}
return adapter;
}
@Override protected void onPostExecute(ListAdapter adapter){
setListAdapter(adapter);
}
}
.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);
break;
}
}
@Override public void onNothingSelected(AdapterView<?> parentView){
}
}
);
}
