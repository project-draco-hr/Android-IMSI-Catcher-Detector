{
  try {
    AIMSICD.mProgressBar.setMax(mTables.length);
    AIMSICD.mProgressBar.setProgress(0);
    int tcount=1;
    for (    String table : mTables) {
      AIMSICD.mProgressBar.setProgress(tcount++);
      File file=new File(FOLDER + "aimsicd-" + table+ ".csv");
      if (file.exists()) {
        List<String[]> records=new ArrayList<>();
        String next[];
        CSVReader csvReader=new CSVReader(new FileReader(file));
        while ((next=csvReader.readNext()) != null) {
          records.add(next);
        }
        if (!records.isEmpty()) {
          int lines=records.size();
          for (int i=1; i < lines; i++) {
switch (table) {
case "defaultlocation":
              try {
                insertDefaultLocation(records.get(i)[1].toString(),Integer.parseInt(records.get(i)[2]),records.get(i)[3].toString(),records.get(i)[4].toString());
              }
 catch (              Exception ee) {
                Log.e(TAG,mTAG + ":restoreDB: Error in insertDefaultLocation()");
              }
            break;
case "API_keys":
          insertApiKeys(records.get(i)[1].toString(),records.get(i)[2].toString(),records.get(i)[3].toString(),records.get(i)[4].toString(),records.get(i)[5].toString());
        break;
case "CounterMeasures":
      insertCounterMeasures(records.get(i)[1].toString(),records.get(i)[2].toString(),Integer.parseInt(records.get(i)[3]),Double.parseDouble(records.get(i)[4]));
    break;
case "DBe_capabilities":
  insertDBeCapabilities(records.get(i)[1].toString(),records.get(i)[2].toString(),records.get(i)[3].toString(),records.get(i)[4].toString(),records.get(i)[5].toString(),records.get(i)[6].toString());
break;
case "DBe_import":
try {
insertDBeImport(records.get(i)[1].toString(),records.get(i)[2].toString(),Integer.parseInt(records.get(i)[3]),Integer.parseInt(records.get(i)[4]),Integer.parseInt(records.get(i)[5]),Integer.parseInt(records.get(i)[6]),Integer.parseInt(records.get(i)[7]),records.get(i)[8].toString(),records.get(i)[9].toString(),Integer.parseInt(records.get(i)[10]),Integer.parseInt(records.get(i)[11]),Integer.parseInt(records.get(i)[12]),Integer.parseInt(records.get(i)[13]),records.get(i)[14].toString(),records.get(i)[15].toString(),0);
}
 catch (Exception ee) {
Log.e(TAG,mTAG + ":restoreDB: Error in insertDBeImport()");
}
break;
case "DBi_bts":
try {
insertBTS(Integer.parseInt(records.get(i)[1]),Integer.parseInt(records.get(i)[2]),Integer.parseInt(records.get(i)[3]),Integer.parseInt(records.get(i)[4]),Integer.parseInt(records.get(i)[5]),Integer.parseInt(records.get(i)[6]),Integer.parseInt(records.get(i)[7]),Integer.parseInt(records.get(i)[8]),records.get(i)[9].toString(),records.get(i)[10].toString(),Double.parseDouble(records.get(i)[11]),Double.parseDouble(records.get(i)[12]));
}
 catch (Exception ee) {
Log.e(TAG,mTAG + ":restoreDB: Error in insertBTS()");
}
break;
case "DBi_measure":
try {
insertDbiMeasure(Integer.parseInt(records.get(i)[1]),records.get(i)[2].toString(),records.get(i)[3].toString(),records.get(i)[4].toString(),records.get(i)[5].toString(),Integer.parseInt(records.get(i)[6]),records.get(i)[7].toString(),records.get(i)[8].toString(),records.get(i)[9].toString(),records.get(i)[10].toString(),records.get(i)[11].toString(),records.get(i)[12].toString(),records.get(i)[13].toString(),records.get(i)[14].toString(),records.get(i)[15].toString(),records.get(i)[16].toString(),Integer.parseInt(records.get(i)[17]),Integer.parseInt(records.get(i)[18]),Integer.parseInt(records.get(i)[19]),records.get(i)[20].toString(),Integer.parseInt(records.get(i)[21]),Integer.parseInt(records.get(i)[22]));
}
 catch (Exception ee) {
Log.e(TAG,mTAG + ":restoreDB: Error in insertDbiMeasure()");
}
break;
case "DetectionFlags":
insertDetectionFlags(Integer.parseInt(records.get(i)[1]),records.get(i)[2].toString(),records.get(i)[3].toString(),Integer.parseInt(records.get(i)[4]),Integer.parseInt(records.get(i)[5]),Integer.parseInt(records.get(i)[6]),Double.parseDouble(records.get(i)[7]),Double.parseDouble(records.get(i)[8]),Double.parseDouble(records.get(i)[9]),records.get(i)[10].toString(),records.get(i)[11].toString(),Integer.parseInt(records.get(i)[12]),Integer.parseInt(records.get(i)[13]));
break;
case "EventLog":
insertEventLog(records.get(i)[1].toString(),Integer.parseInt(records.get(i)[2]),Integer.parseInt(records.get(i)[3]),Integer.parseInt(records.get(i)[4]),records.get(i)[5].toString(),records.get(i)[6].toString(),Integer.parseInt(records.get(i)[7]),Integer.parseInt(records.get(i)[8]),records.get(i)[9].toString());
break;
case "SectorType":
insertSectorType(records.get(i)[1].toString());
break;
case "DetectionStrings":
insertDetectionStrings(records.get(i)[1].toString(),records.get(i)[2].toString());
break;
case "SmsData":
insertSmsData(records.get(i)[1].toString(),records.get(i)[2].toString(),records.get(i)[3].toString(),records.get(i)[4].toString(),records.get(i)[5].toString(),records.get(i)[6].toString(),Integer.parseInt(records.get(i)[7]),Integer.parseInt(records.get(i)[8]),records.get(i)[9].toString(),Double.parseDouble(records.get(i)[10]),Double.parseDouble(records.get(i)[11]),Integer.parseInt(records.get(i)[12]));
break;
}
}
}
}
}
Log.i(TAG,mTAG + ": restoreDB() Finished ");
return true;
}
 catch (Exception e) {
Log.e(TAG,mTAG + ": restoreDB() Error:\n" + e.toString());
return false;
}
 finally {
AIMSICD.mProgressBar.setProgress(0);
}
}
