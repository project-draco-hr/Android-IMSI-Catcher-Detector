{
  boolean result;
  File dir=new File(FOLDER + "OpenCellID/");
  if (!dir.exists()) {
    result=dir.mkdirs();
    if (!result) {
      return false;
    }
  }
  File file=new File(dir,"aimsicd-ocid-data.csv");
  try {
    Cursor c=getOCIDSubmitData();
    if (c.getCount() > 0) {
      if (!file.exists()) {
        result=file.createNewFile();
        if (!result) {
          c.close();
          return false;
        }
        CSVWriter csvWrite=new CSVWriter(new FileWriter(file));
        csvWrite.writeNext("mcc,mnc,lac,cellid,lon,lat,signal,measured_at,rating");
        int size=c.getCount();
        Log.d(TAG,"OCID UPLOAD: row count = " + size);
        while (c.moveToNext()) {
          csvWrite.writeNext(String.valueOf(c.getInt(c.getColumnIndex("MCC"))),String.valueOf(c.getInt(c.getColumnIndex("MNC"))),String.valueOf(c.getInt(c.getColumnIndex("LAC"))),String.valueOf(c.getInt(c.getColumnIndex("CID"))),c.getString(c.getColumnIndex("gpsd_lon")),c.getString(c.getColumnIndex("gpsd_lat")),c.getString(c.getColumnIndex("rx_signal")),c.getString(c.getColumnIndex("time")),String.valueOf(c.getInt(c.getColumnIndex("gpsd_accu"))));
        }
        csvWrite.close();
        c.close();
      }
      return true;
    }
    c.close();
    return false;
  }
 catch (  Exception e) {
    Log.e(TAG,"prepareOpenCellUploadData(): Error creating OpenCellID Upload Data: ",e);
    return false;
  }
}
