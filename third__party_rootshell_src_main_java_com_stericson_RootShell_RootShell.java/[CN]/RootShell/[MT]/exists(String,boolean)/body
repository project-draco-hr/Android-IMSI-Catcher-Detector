{
  final List<String> result=new ArrayList<String>();
  String cmdToExecute="ls " + (isDir ? "-d " : " ");
  Command command=new Command(0,false,cmdToExecute + file){
    @Override public void commandOutput(    int id,    String line){
      RootShell.log(line);
      result.add(line);
      super.commandOutput(id,line);
    }
  }
;
  try {
    RootShell.getShell(false).add(command);
    commandWait(RootShell.getShell(false),command);
  }
 catch (  Exception e) {
    return false;
  }
  for (  String line : result) {
    if (line.trim().equals(file)) {
      return true;
    }
  }
  result.clear();
  try {
    RootShell.getShell(true).add(command);
    commandWait(RootShell.getShell(true),command);
  }
 catch (  Exception e) {
    return false;
  }
  List<String> final_result=new ArrayList<String>();
  final_result.addAll(result);
  for (  String line : final_result) {
    if (line.trim().equals(file)) {
      return true;
    }
  }
  return false;
}
