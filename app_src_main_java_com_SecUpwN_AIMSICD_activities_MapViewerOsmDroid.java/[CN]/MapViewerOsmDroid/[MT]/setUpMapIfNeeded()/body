{
  if (mMap == null) {
    mMap=(MapView)findViewById(R.id.mapview);
    if (mMap != null) {
      mMap.setBuiltInZoomControls(true);
      mMap.setMultiTouchControls(true);
      mMap.setMinZoomLevel(3);
      mCompassOverlay=new CompassOverlay(this,new InternalCompassOrientationProvider(this),mMap);
      mScaleBarOverlay=new ScaleBarOverlay(this);
      mScaleBarOverlay.setScaleBarOffset(getResources().getDisplayMetrics().widthPixels / 2,10);
      mScaleBarOverlay.setCentred(true);
      mCellTowerGridMarkerClusterer=new CellTowerGridMarkerClusterer(MapViewerOsmDroid.this);
      mCellTowerGridMarkerClusterer.setIcon(((BitmapDrawable)mContext.getResources().getDrawable(R.drawable.ic_map_pin_orange)).getBitmap());
      GpsMyLocationProvider imlp=new GpsMyLocationProvider(MapViewerOsmDroid.this.getBaseContext());
      imlp.setLocationUpdateMinDistance(100);
      imlp.setLocationUpdateMinTime(10000);
      mMyLocationOverlay=new MyLocationNewOverlay(MapViewerOsmDroid.this.getBaseContext(),imlp,mMap);
      mMyLocationOverlay.setDrawAccuracyEnabled(true);
      mMap.getOverlays().add(mCellTowerGridMarkerClusterer);
      mMap.getOverlays().add(mMyLocationOverlay);
      mMap.getOverlays().add(mCompassOverlay);
      mMap.getOverlays().add(mScaleBarOverlay);
    }
 else {
      Helpers.msgShort(this,"Unable to create map!");
    }
  }
}
