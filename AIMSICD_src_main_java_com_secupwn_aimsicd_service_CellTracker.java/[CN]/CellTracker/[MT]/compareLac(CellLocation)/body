{
switch (mDevice.getPhoneId()) {
case TelephonyManager.PHONE_TYPE_NONE:
case TelephonyManager.PHONE_TYPE_SIP:
case TelephonyManager.PHONE_TYPE_GSM:
    GsmCellLocation gsmCellLocation=(GsmCellLocation)location;
  if (gsmCellLocation != null) {
    mMonitorCell.setLac(gsmCellLocation.getLac());
    mMonitorCell.setCid(gsmCellLocation.getCid());
    boolean lacOK=dbHelper.checkLAC(mMonitorCell);
    if (!lacOK) {
      mChangedLAC=true;
      dbHelper.toEventLog(1,"Changing LAC");
      vibrate(100,Status.MEDIUM);
    }
 else {
      mChangedLAC=false;
    }
    if (tinydb.getBoolean("ocid_downloaded")) {
      if (!dbHelper.openCellExists(mMonitorCell.getCid())) {
        dbHelper.toEventLog(2,"CID not in DBe_import");
        log.info("ALERT: Connected to unknown CID not in DBe_import: " + mMonitorCell.getCid());
        vibrate(100,Status.MEDIUM);
        mCellIdNotInOpenDb=true;
      }
 else {
        mCellIdNotInOpenDb=false;
      }
    }
  }
break;
case TelephonyManager.PHONE_TYPE_CDMA:
CdmaCellLocation cdmaCellLocation=(CdmaCellLocation)location;
if (cdmaCellLocation != null) {
mMonitorCell.setLac(cdmaCellLocation.getNetworkId());
mMonitorCell.setCid(cdmaCellLocation.getBaseStationId());
boolean lacOK=dbHelper.checkLAC(mMonitorCell);
if (!lacOK) {
mChangedLAC=true;
dbHelper.toEventLog(1,"Changing LAC");
}
 else {
mChangedLAC=false;
}
}
}
setNotification();
}
