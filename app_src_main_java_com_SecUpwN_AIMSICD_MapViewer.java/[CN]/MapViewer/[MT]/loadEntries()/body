{
  int SIGNAL_SIZE_RATIO=15;
  double dlat;
  double dlng;
  int net;
  int signal;
  int color;
  int cellID;
  mDbHelper.open();
  Cursor c=mDbHelper.getSignalData();
  if (c.moveToFirst()) {
    CircleOptions circleOptions;
    do {
      net=c.getInt(0);
      dlat=Double.parseDouble(c.getString(1));
      dlng=Double.parseDouble(c.getString(2));
      signal=c.getInt(3);
      if (signal > 0) {
        signal=20;
      }
      cellID=c.getInt(4);
      if ((dlat != 0.0) || (dlng != 0.0)) {
        loc=new LatLng(dlat,dlng);
switch (net) {
case TelephonyManager.NETWORK_TYPE_UNKNOWN:
          color=0xF0F8FF;
        break;
case TelephonyManager.NETWORK_TYPE_GPRS:
      color=0xA9A9A9;
    break;
case TelephonyManager.NETWORK_TYPE_EDGE:
  color=0x87CEFA;
break;
case TelephonyManager.NETWORK_TYPE_UMTS:
color=0x7CFC00;
break;
case TelephonyManager.NETWORK_TYPE_HSDPA:
color=0xFF6347;
break;
case TelephonyManager.NETWORK_TYPE_HSUPA:
color=0xFF00FF;
break;
case TelephonyManager.NETWORK_TYPE_HSPA:
color=0x238E6B;
break;
case TelephonyManager.NETWORK_TYPE_CDMA:
color=0x8A2BE2;
break;
case TelephonyManager.NETWORK_TYPE_EVDO_0:
color=0xFF69B4;
break;
case TelephonyManager.NETWORK_TYPE_EVDO_A:
color=0xFFFF00;
break;
case TelephonyManager.NETWORK_TYPE_1xRTT:
color=0x7CFC00;
break;
default :
color=0xF0F8FF;
break;
}
circleOptions=new CircleOptions().center(loc).radius(signal * SIGNAL_SIZE_RATIO).fillColor(color).strokeColor(color).visible(true);
mMap.addCircle(circleOptions);
mMap.addMarker(new MarkerOptions().position(loc).draggable(false).title("CellID - " + cellID));
}
}
 while (c.moveToNext());
c.close();
if (loc != null && (loc.latitude != 0.0 && loc.longitude != 0.0)) {
final CameraPosition POSITION=new CameraPosition.Builder().target(loc).zoom(16.0f).bearing(320).tilt(30).build();
mMap.moveCamera(CameraUpdateFactory.newCameraPosition(POSITION));
}
}
 else {
Helpers.msgShort(this,"No tracked locations found to overlay on map.");
double[] d=getLastLocation();
if (d[0] != 0.0 && d[1] != 0.0) {
loc=new LatLng(d[0],d[1]);
final CameraPosition POSITION=new CameraPosition.Builder().target(loc).zoom(16.0f).bearing(320).tilt(30).build();
mMap.moveCamera(CameraUpdateFactory.newCameraPosition(POSITION));
}
 else {
final TelephonyManager tm=(TelephonyManager)this.getSystemService(Context.TELEPHONY_SERVICE);
final int mcc=Integer.parseInt(tm.getNetworkOperator().substring(0,3));
d=mDbHelper.getDefaultLocation(mcc);
loc=new LatLng(d[0],d[1]);
final CameraPosition POSITION=new CameraPosition.Builder().target(loc).zoom(13.0f).bearing(320).tilt(30).build();
mMap.moveCamera(CameraUpdateFactory.newCameraPosition(POSITION));
}
}
}
