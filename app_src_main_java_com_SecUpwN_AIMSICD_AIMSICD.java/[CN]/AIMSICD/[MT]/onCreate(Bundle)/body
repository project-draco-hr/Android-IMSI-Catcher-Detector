{
  super.onCreate(savedInstanceState);
  mNavConf=getNavDrawerConfiguration();
  setContentView(mNavConf.getMainLayout());
  Intent intent=new Intent(this,AimsicdService.class);
  startService(intent);
  bindService(intent,mConnection,Context.BIND_AUTO_CREATE);
  mDrawerLayout=(DrawerLayout)findViewById(mNavConf.getDrawerLayoutId());
  mDrawerList=(ListView)findViewById(mNavConf.getLeftDrawerId());
  mActionBar=getActionBar();
  mNavigationTitles=getResources().getStringArray(R.array.navigation_array);
  mTitle=mDrawerTitle=getTitle();
  mDrawerList.setAdapter(mNavConf.getBaseAdapter());
  mDrawerToggle=new ActionBarDrawerToggle(this,mDrawerLayout,R.drawable.ic_drawer,R.string.drawer_open,R.string.drawer_close){
    /** 
 * Called when a drawer has settled in a completely closed state. 
 */
    public void onDrawerClosed(    View view){
      super.onDrawerClosed(view);
      mActionBar.setTitle(mTitle);
      invalidateOptionsMenu();
    }
    /** 
 * Called when a drawer has settled in a completely open state. 
 */
    public void onDrawerOpened(    View drawerView){
      super.onDrawerOpened(drawerView);
      mActionBar.setTitle(mDrawerTitle);
      invalidateOptionsMenu();
    }
  }
;
  mDrawerList.setOnItemClickListener(new DrawerItemClickListener());
  mDrawerLayout.setDrawerListener(mDrawerToggle);
  mActionBar.setDisplayHomeAsUpEnabled(true);
  mActionBar.setHomeButtonEnabled(true);
  FragmentManager fragmentManager=getFragmentManager();
  fragmentManager.beginTransaction().replace(R.id.content_frame,new DeviceFragment()).commit();
  mProgressBar=(ProgressBar)findViewById(R.id.progressBar);
  prefs=mContext.getSharedPreferences(AimsicdService.SHARED_PREFERENCES_BASENAME,0);
  mDisclaimerAccepted=getResources().getString(R.string.disclaimer_accepted);
  if (!prefs.getBoolean(mDisclaimerAccepted,false)) {
    final AlertDialog.Builder disclaimer=new AlertDialog.Builder(this).setTitle(R.string.disclaimer_title).setMessage(R.string.disclaimer).setPositiveButton(R.string.text_ok,new DialogInterface.OnClickListener(){
      public void onClick(      DialogInterface dialog,      int which){
        prefsEditor=prefs.edit();
        prefsEditor.putBoolean(mDisclaimerAccepted,true);
        prefsEditor.commit();
      }
    }
).setNegativeButton(R.string.text_cancel,new DialogInterface.OnClickListener(){
      public void onClick(      DialogInterface dialog,      int which){
        prefsEditor=prefs.edit();
        prefsEditor.putBoolean(mDisclaimerAccepted,false);
        prefsEditor.commit();
        Uri packageUri=Uri.parse("package:com.SecUpwN.AIMSICD");
        Intent uninstallIntent=new Intent(Intent.ACTION_DELETE,packageUri);
        startActivity(uninstallIntent);
        finish();
        mAimsicdService.onDestroy();
      }
    }
);
    AlertDialog disclaimerAlert=disclaimer.create();
    disclaimerAlert.show();
  }
}
