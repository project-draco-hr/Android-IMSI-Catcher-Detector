{
  mIMEI=tm.getDeviceId();
  mIMEIV=tm.getDeviceSoftwareVersion();
  mPhoneID=tm.getPhoneType();
  mRoaming=tm.isNetworkRoaming();
  mNetID=tm.getNetworkType();
  mNetType=getNetworkTypeName();
switch (mPhoneID) {
case TelephonyManager.PHONE_TYPE_GSM:
    mPhoneType="GSM";
  mMmcmcc=tm.getNetworkOperator();
mMcc=Integer.parseInt(tm.getNetworkOperator().substring(0,3));
mMnc=Integer.parseInt(tm.getNetworkOperator().substring(3));
mNetName=tm.getNetworkOperatorName();
GsmCellLocation gsmCellLocation=(GsmCellLocation)tm.getCellLocation();
if (gsmCellLocation != null) {
mCellID=gsmCellLocation.getCid();
mLac=gsmCellLocation.getLac();
mPSC=gsmCellLocation.getPsc();
}
break;
case TelephonyManager.PHONE_TYPE_CDMA:
mPhoneType="CDMA";
CdmaCellLocation cdmaCellLocation=(CdmaCellLocation)tm.getCellLocation();
if (cdmaCellLocation != null) {
mCellID=cdmaCellLocation.getBaseStationId();
mLac=cdmaCellLocation.getNetworkId();
mSID=cdmaCellLocation.getSystemId();
}
break;
}
if (Build.VERSION.SDK_INT > 16) {
try {
List<CellInfo> cellInfoList=tm.getAllCellInfo();
if (cellInfoList != null) {
for (final CellInfo info : cellInfoList) {
if (info instanceof CellInfoGsm) {
final CellSignalStrengthGsm gsm=((CellInfoGsm)info).getCellSignalStrength();
mSignalInfo=gsm.getDbm();
}
 else if (info instanceof CellInfoCdma) {
final CellSignalStrengthCdma cdma=((CellInfoCdma)info).getCellSignalStrength();
mSignalInfo=cdma.getDbm();
}
 else if (info instanceof CellInfoLte) {
final CellSignalStrengthLte lte=((CellInfoLte)info).getCellSignalStrength();
mSignalInfo=lte.getDbm();
mTimingAdvance=lte.getTimingAdvance();
}
 else {
throw new NullPointerException("Unknown type of cell signal!");
}
}
}
}
 catch (NullPointerException npe) {
Log.e(TAG,"Unable to obtain cell signal information",npe);
}
}
mSimCountry=getSimCountry(tm);
mSimOperator=getSimOperator(tm);
mSimOperatorName=getSimOperatorName(tm);
mSimSerial=getSimSerial(tm);
mSimSubs=getSimSubs(tm);
mDataActivityType=getDataActivity(tm);
mDataState=getDataState(tm);
}
