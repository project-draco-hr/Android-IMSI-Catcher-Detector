{
  String time=MiscUtils.getCurrentTimeStamp();
  int lac=CellTracker.monitorCell.getLac();
  int cid=CellTracker.monitorCell.getCid();
  int psc=CellTracker.monitorCell.getPsc();
  String gpsd_lat=String.valueOf(CellTracker.monitorCell.getLat());
  String gpsd_lon=String.valueOf(CellTracker.monitorCell.getLon());
  int gpsd_accu=(int)CellTracker.monitorCell.getAccuracy();
  if (cid != -1 || lac != -1) {
    String query=String.format("SELECT * from EventLog WHERE _id=(SELECT max(_id) from EventLog) AND CID=%d AND LAC=%d AND PSC=%d AND DF_id=%d",cid,lac,psc,DF_id);
    Cursor cursor=mDb.rawQuery(query,null);
    boolean insertData=true;
    if (cursor.getCount() > 0) {
      insertData=false;
    }
    cursor.close();
    if (insertData) {
      ContentValues eventLog=new ContentValues();
      eventLog.put("time",time);
      eventLog.put("LAC",lac);
      eventLog.put("CID",cid);
      eventLog.put("PSC",psc);
      eventLog.put("gpsd_lat",gpsd_lat);
      eventLog.put("gpsd_lon",gpsd_lon);
      eventLog.put("gpsd_accu",gpsd_accu);
      eventLog.put("DF_id",DF_id);
      eventLog.put("DF_description",DF_desc);
      mDb.insert("EventLog",null,eventLog);
      log.info("ToEventLog(): Added new event: id=" + DF_id + " time="+ time+ " cid="+ cid);
      boolean vibrationEnabled=mPreferences.getBoolean(mContext.getString(R.string.pref_notification_vibrate_enable),true);
      int thresholdLevel=Integer.valueOf(mPreferences.getString(mContext.getString(R.string.pref_notification_vibrate_min_level),String.valueOf(Status.MEDIUM.ordinal())));
      boolean higherLevelThanThreshold=Status.MEDIUM.ordinal() <= thresholdLevel;
      if (vibrationEnabled && higherLevelThanThreshold) {
        Vibrator v=(Vibrator)mContext.getSystemService(Context.VIBRATOR_SERVICE);
        v.vibrate(100);
      }
    }
  }
}
