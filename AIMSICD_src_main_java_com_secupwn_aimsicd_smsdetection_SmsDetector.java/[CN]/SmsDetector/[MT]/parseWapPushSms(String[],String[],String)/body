{
  CapturedSmsData capturedSms=new CapturedSmsData();
  String smsText=findSmsData(logcatLines,postWapMessageLines);
  String num=findSmsNumber(logcatLines,postWapMessageLines);
  capturedSms.setSenderNumber(num == null ? "null" : num);
  capturedSms.setSenderMsg(smsText == null ? "null" : smsText);
  capturedSms.setSmsTimestamp(logcat_timestamp);
  capturedSms.setSmsType("WAPPUSH");
  capturedSms.setCurrent_lac(mAIMSICDService.getCellTracker().getMonitorCell().getLac());
  capturedSms.setCurrent_cid(mAIMSICDService.getCellTracker().getMonitorCell().getCid());
  capturedSms.setCurrent_nettype(mAIMSICDService.getCell().getRat());
  int isRoaming=0;
  if (mAIMSICDService.getCellTracker().getDevice().isRoaming()) {
    isRoaming=1;
  }
  capturedSms.setCurrent_roam_status(isRoaming);
  capturedSms.setCurrent_gps_lat(mAIMSICDService.lastKnownLocation().getLatitudeInDegrees());
  capturedSms.setCurrent_gps_lon(mAIMSICDService.lastKnownLocation().getLongitudeInDegrees());
  if (!mDbAdapter.isTimeStampInDB(logcat_timestamp)) {
    mDbAdapter.storeCapturedSms(capturedSms);
    mDbAdapter.toEventLog(6,"Detected WAPPUSH SMS");
    startPopUpInfo(SmsType.WAP_PUSH);
  }
 else {
    log.debug("Detected SMS already logged");
  }
}
