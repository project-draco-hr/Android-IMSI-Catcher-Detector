{
switch (getPhoneID()) {
case TelephonyManager.PHONE_TYPE_GSM:
{
      GsmCellLocation gsmCellLocation=(GsmCellLocation)tm.getCellLocation();
      if (gsmCellLocation != null) {
        mCellID=gsmCellLocation.getCid();
      }
      break;
    }
case TelephonyManager.PHONE_TYPE_CDMA:
{
    CdmaCellLocation cdmaCellLocation=(CdmaCellLocation)tm.getCellLocation();
    if (cdmaCellLocation != null) {
      mCellID=cdmaCellLocation.getBaseStationId();
      break;
    }
    break;
  }
}
return mCellID;
}
