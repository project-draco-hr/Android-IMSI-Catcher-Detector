{
  try {
    RootTools.log("Checking for Root access");
    InternalVariables.accessGiven=false;
    CommandCapture command=new CommandCapture(Constants.IAG,false,"id"){
      @Override public void output(      int id,      String line){
        if (id == Constants.IAG) {
          Set<String> ID=new HashSet<String>(Arrays.asList(line.split(" ")));
          for (          String userid : ID) {
            RootTools.log(userid);
            if (userid.toLowerCase().contains("uid=0")) {
              InternalVariables.accessGiven=true;
              RootTools.log("Access Given");
              break;
            }
          }
          if (!InternalVariables.accessGiven) {
            RootTools.log("Access Denied?");
          }
        }
      }
    }
;
    Shell.startRootShell().add(command);
    commandWait(Shell.startRootShell(),command);
    return InternalVariables.accessGiven;
  }
 catch (  Exception e) {
    e.printStackTrace();
    return false;
  }
}
