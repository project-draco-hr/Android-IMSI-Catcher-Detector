{
  super.onCreate(savedInstanceState);
  setContentView(R.layout.activity_advanced_user);
  btn_insert=(Button)findViewById(R.id.btn_insert);
  edit_adv_user_det=(EditText)findViewById(R.id.edit_adv_user_string);
  myspinner=(Spinner)findViewById(R.id.spinner);
  dbaccess=new AIMSICDDbAdapter(getApplicationContext());
  listViewAdv=(ListView)findViewById(R.id.listView_Adv_Activity);
  try {
    msgitems=dbaccess.getDetectionStrings();
  }
 catch (  Exception ee) {
    System.out.println("DB ERROR>>>>" + ee.toString());
    msgitems=new ArrayList<>();
    AdvanceUserItems itemss=new AdvanceUserItems();
    itemss.setDetection_string("NO DATA");
    itemss.setDetection_type("No TYPE");
    msgitems.add(itemss);
  }
  listViewAdv.setAdapter(new AdvanceUserBaseAdapter(getApplicationContext(),msgitems));
  listViewAdv.setOnItemLongClickListener(new AdapterView.OnItemLongClickListener(){
    @Override public boolean onItemLongClick(    AdapterView<?> a,    View v,    int position,    long id){
      Object o=listViewAdv.getItemAtPosition(position);
      AdvanceUserItems obj_itemDetails=(AdvanceUserItems)o;
      if (dbaccess.deleteDetectionString(obj_itemDetails.getDetection_string())) {
        Toast.makeText(getApplicationContext(),"Deleted String\n" + obj_itemDetails.getDetection_string(),Toast.LENGTH_SHORT).show();
      }
 else {
        Toast.makeText(getApplicationContext(),"Failed to Delete",Toast.LENGTH_SHORT).show();
      }
      try {
        loadDbString();
      }
 catch (      Exception ee) {
      }
      return false;
    }
  }
);
  btn_insert.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View view){
      if (edit_adv_user_det.getText().toString().contains("\"")) {
        Toast.makeText(getApplicationContext(),"String not added\n \" double quote will cause db error ",Toast.LENGTH_SHORT).show();
      }
 else {
        ContentValues store_new_sms_string=new ContentValues();
        store_new_sms_string.put(DBTableColumnIds.DETECTION_STRINGS_LOGCAT_STRING,edit_adv_user_det.getText().toString());
        store_new_sms_string.put(DBTableColumnIds.DETECTION_STRINGS_SMS_TYPE,myspinner.getSelectedItem().toString());
        if (dbaccess.insertNewDetectionString(store_new_sms_string)) {
          Toast.makeText(getApplicationContext(),"String Added to DB",Toast.LENGTH_SHORT).show();
        }
 else {
          Toast.makeText(getApplicationContext(),"String Failed to add",Toast.LENGTH_SHORT).show();
        }
        try {
          loadDbString();
        }
 catch (        Exception ee) {
        }
      }
    }
  }
);
}
