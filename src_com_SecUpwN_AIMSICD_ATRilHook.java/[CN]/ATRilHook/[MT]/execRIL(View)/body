{
  int idButtonChecked=mRadioGroupAPI.getCheckedRadioButtonId();
  mRespText=(EditText)findViewById(R.id.edit_response);
  byte[] oemhook=null;
switch (idButtonChecked) {
case R.id.radio_api1:
    oemhook=new byte[1];
  oemhook[0]=(byte)0xAA;
break;
case R.id.radio_api2:
oemhook=new byte[2];
oemhook[0]=(byte)0xBB;
oemhook[1]=(byte)0x55;
break;
case R.id.radio_api3:
oemhook=new byte[7];
oemhook[0]=(byte)0xCC;
oemhook[1]=(byte)0x12;
oemhook[2]=(byte)0x34;
oemhook[3]=(byte)0x56;
oemhook[4]=(byte)0x78;
oemhook[5]=(byte)0x9A;
oemhook[6]=(byte)0xBC;
break;
case R.id.radio_api4:
break;
case R.id.radio_api5:
mCurrentSvcMode=OemCommands.OEM_SM_ENTER_MODE_MESSAGE;
mCurrentModeType=OemCommands.OEM_SM_TYPE_SUB_CIPHERING_PROTECTION_ENTER;
byte[] data=mOemCommands.getEnterServiceModeData(mCurrentSvcMode,mCurrentModeType,OemCommands.OEM_SM_ACTION);
sendRequest(data,ID_SERVICE_MODE_REQUEST);
break;
default :
log("unknown button selected");
break;
}
if (idButtonChecked == R.id.radio_api5) {
byte[] data=mOemCommands.getEnterServiceModeData(mCurrentSvcMode,mCurrentModeType,OemCommands.OEM_SM_ACTION);
sendRequest(data,ID_SERVICE_MODE_REQUEST);
}
 else if (idButtonChecked != R.id.radio_api4) {
Message msg=mHandler.obtainMessage(EVENT_RIL_OEM_HOOK_CMDRAW_COMPLETE);
mPhone.invokeOemRilRequestRaw(oemhook,msg);
mRespText.setText("");
}
 else {
String[] oemhookstring={((EditText)findViewById(R.id.edit_cmdstr)).getText().toString() + '\r'};
Message msg=mHandler.obtainMessage(EVENT_RIL_OEM_HOOK_CMDSTR_COMPLETE);
mPhone.invokeOemRilRequestStrings(oemhookstring,msg);
mRespText=(EditText)findViewById(R.id.edit_response);
mRespText.setText("---Wait response---");
}
}
