{
switch (mDevice.getPhoneID()) {
case TelephonyManager.PHONE_TYPE_NONE:
case TelephonyManager.PHONE_TYPE_SIP:
case TelephonyManager.PHONE_TYPE_GSM:
    GsmCellLocation gsmCellLocation=(GsmCellLocation)location;
  if (gsmCellLocation != null) {
    mMonitorCell.setLAC(gsmCellLocation.getLac());
    mMonitorCell.setCID(gsmCellLocation.getCid());
    boolean lacOK=dbHelper.checkLAC(mMonitorCell);
    if (!lacOK) {
      mChangedLAC=true;
      setNotification();
    }
 else {
      mChangedLAC=false;
    }
    if (tinydb.getBoolean("ocid_downloaded")) {
      if (!dbHelper.openCellExists(mMonitorCell.getCID())) {
        Log.i(TAG,mTAG + ": ALERT: Connected to unknown CID not in DBe_import: " + mMonitorCell.getCID());
        dbHelper.insertEventLog(MiscUtils.getCurrentTimeStamp(),mMonitorCell.getLAC(),mMonitorCell.getCID(),mMonitorCell.getPSC(),String.valueOf(mDevice.mCell.getLat()),String.valueOf(mDevice.mCell.getLon()),(int)mDevice.mCell.getAccuracy(),2,"CID not in DBe_import");
        mCellIdNotInOpenDb=true;
        setNotification();
      }
 else {
        mCellIdNotInOpenDb=false;
      }
    }
  }
break;
case TelephonyManager.PHONE_TYPE_CDMA:
CdmaCellLocation cdmaCellLocation=(CdmaCellLocation)location;
if (cdmaCellLocation != null) {
mMonitorCell.setLAC(cdmaCellLocation.getNetworkId());
mMonitorCell.setCID(cdmaCellLocation.getBaseStationId());
boolean lacOK=dbHelper.checkLAC(mMonitorCell);
if (!lacOK) {
mChangedLAC=true;
dbHelper.insertEventLog(MiscUtils.getCurrentTimeStamp(),mMonitorCell.getLAC(),mMonitorCell.getCID(),mMonitorCell.getPSC(),String.valueOf(mMonitorCell.getLat()),String.valueOf(mMonitorCell.getLon()),(int)mMonitorCell.getAccuracy(),1,"Changing LAC");
setNotification();
}
 else {
mChangedLAC=false;
}
}
}
}
