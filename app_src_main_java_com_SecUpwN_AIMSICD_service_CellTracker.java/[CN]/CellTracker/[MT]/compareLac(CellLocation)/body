{
switch (mDevice.getPhoneID()) {
case TelephonyManager.PHONE_TYPE_NONE:
case TelephonyManager.PHONE_TYPE_SIP:
case TelephonyManager.PHONE_TYPE_GSM:
    GsmCellLocation gsmCellLocation=(GsmCellLocation)location;
  if (gsmCellLocation != null) {
    mMonitorCell.setLAC(gsmCellLocation.getLac());
    mMonitorCell.setCID(gsmCellLocation.getCid());
    dbHelper.open();
    boolean lacOK=dbHelper.checkLAC(mMonitorCell);
    if (!lacOK) {
      mChangedLAC=true;
      setNotification();
    }
 else {
      mChangedLAC=false;
    }
    if (tinydb.getBoolean("ocid_downloaded")) {
      if (!dbHelper.openCellExists(mMonitorCell.getCID())) {
        Log.i(TAG,"ALERT: Connected to unknown CID not in DBe_import: " + mMonitorCell.getCID());
        mCellIdNotInOpenDb=true;
        setNotification();
      }
 else {
        mCellIdNotInOpenDb=false;
      }
      dbHelper.close();
    }
  }
break;
case TelephonyManager.PHONE_TYPE_CDMA:
CdmaCellLocation cdmaCellLocation=(CdmaCellLocation)location;
if (cdmaCellLocation != null) {
mMonitorCell.setLAC(cdmaCellLocation.getNetworkId());
mMonitorCell.setCID(cdmaCellLocation.getBaseStationId());
dbHelper.open();
boolean lacOK=dbHelper.checkLAC(mMonitorCell);
if (!lacOK) {
mChangedLAC=true;
setNotification();
}
 else {
mChangedLAC=false;
}
dbHelper.close();
}
}
}
