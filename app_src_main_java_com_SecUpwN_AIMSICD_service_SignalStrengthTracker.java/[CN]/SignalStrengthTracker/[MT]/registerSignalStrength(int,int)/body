{
  long now=System.currentTimeMillis();
  if (deviceIsMoving()) {
    Log.i(TAG,"Ignored signal strength sample for cell ID #" + cellID + " as the device is currently moving around, will not accept anything for another "+ ((minimumIdleTime * 1000) - (now - lastMovementDetected))+ "ms");
    return;
  }
  if (now - (sleepTimeBetweenSignalRegistration * 1000) > lastRegistrationTime) {
    long diff=now - lastRegistrationTime;
    Log.i(TAG,"Scheduling signal strength calculation from cell #" + cellID + " @ "+ signalStrength+ " dBm, last registration was "+ diff+ "ms ago");
    lastRegistrationTime=now;
    mDbHelper.open();
    mDbHelper.addSignalStrength(cellID,signalStrength,now);
    mDbHelper.close();
  }
  if (now - (sleepTimeBetweenCleanup * 1000) > lastCleanupTime) {
    Log.i(TAG,"Removing up old signal strength entries");
    cleanupOldData();
  }
}
